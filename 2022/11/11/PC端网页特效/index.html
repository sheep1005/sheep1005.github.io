<!DOCTYPE html>
<html>
	<head>
		
<title>PC端网页特效-hi</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" type="image/x-icon" href="/image/favicon.ico">

<link rel="stylesheet" href="/css/index.css">



<meta name="keywords" content="前端,学习笔记,JavaScript,">
<meta name="description" content="可以实现花里胡哨的交互哦">


<script src="/js/jquery.min.js"></script>


<script src="/js/index.js"></script>


<script src="/js/fancybox.umd.js"></script>


<script src="/js/fancybox-images.js"></script>


<script src="/js/gitalk.min.js"></script>


<script src="/js/hljs.min.js"></script>
 
<script>hljs.highlightAll();</script>

	<meta name="generator" content="Hexo 6.3.0"></head>

	<body>
		
	<div class="header">
		<div class="header-top" id="header-top">
			<div class="h-left">
				<a href="/">
					<img src="/image/logo.png" alt="Quiet">
				</a>
			</div>
			<div class="h-right">
				<ul>
					
						
								<li>
									<a href="/">
										HOME
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/archives">
										ARCHIVE
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/categories">
										CATEGORIES
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/tags">
										TAGS
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/links">
										LINKS
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/about">
										ABOUT
									</a>
									<span class="dot"></span>
								</li>
								
									
				</ul>
			</div>
			<div class="h-right-close">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
					<path fill="none" d="M0 0h24v24H0z" />
					<path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z" fill="rgba(68,68,68,1)" />
				</svg>
			</div>
		</div>
	</div>
	<div class="sidebar">
    <div class="topo">
        <h2>sheep</h2>
    </div>
    <ul>
        
        <li>
            <a href="/">HOME</a>
        </li>
        
        <li>
            <a href="/archives">ARCHIVE</a>
        </li>
        
        <li>
            <a href="/categories">CATEGORIES</a>
        </li>
        
        <li>
            <a href="/tags">TAGS</a>
        </li>
        
        <li>
            <a href="/links">LINKS</a>
        </li>
        
        <li>
            <a href="/about">ABOUT</a>
        </li>
        
    </ul>
    <div class="my_foot">
        
        <a target="_blank" rel="noopener" href="https://github.com/79E/hexo-theme-quiet">
            <img src="https://cdn.jsdelivr.net/gh/duogongneng/MyBlogImg/imggithub.png" alt="Quiet主题">
        </a>
        
    </div>
</div>
<div class='shelter'>
</div>
<style>
    .shelter{
        background-color: #333;
        opacity:0.5;
        cursor: pointer;
        display: none; 
        position: fixed;
        left: 0;
        top: 0; 
        right: 0;
        bottom: 0;
        z-index: 1998;
    }
    .sidebar {
        width: 66%;
        height: 100%;
        position: fixed;
        top: 0;
        right: -100%;
        bottom: 0;
        background: #fff;
        z-index: 1999;
        text-align: center;
        box-shadow: -6px 0 20px rgba(98, 94, 94, .815);
    }

    .topo {
        width: 100%;
        height: 200px;
        background: url(https://api.ixiaowai.cn/gqapi/gqapi.php) no-repeat;
        background-size: 100% 100%;
        position: relative;
        display: flex;
        align-items: flex-end
    }

    .topo h2 {
        color: #fff;
        z-index: 1;
        position: relative;
        margin: 0 0 10px 10px;
        font-size: 1.2em;
        box-sizing: border-box
    }

    .topo:before {
        content: '';
        background-image: url(/image/pattern.png);
        background-repeat: repeat;
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
        z-index: 1
    }

    .sidebar ul {
        width: 100%;
        margin-top: 50px
    }

    .sidebar ul li {
        height: 50px;
        list-style: none;
        font-size: 1.2em;
        text-align: right;
        margin-right: 10px
    }

    .sidebar ul li a {
        display: grid;
        color: #5d606a;
        text-overflow: ellipsis;
        width: 100%;
        text-decoration: none
    }

    .my_foot {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        position: absolute;
        bottom: 0
    }

    .my_foot a {
        text-decoration: none;
        margin-right: 10px;
        display: inline-block
    }

    .my_foot a img {
        width: 30px;
        height: 30px
    }
</style>

<script>
    $( function () {
	$( '.h-right-close>svg' )
		.click( function () {
			$( '.sidebar' )
				.animate( {
					right: "0"
				}, 500 );
			$( '.shelter' )
				.fadeIn( "slow" )
		} );
	$( '.shelter' )
		.click( function ( e ) {
			$( '.sidebar' )
				.animate( {
					right: "-100%"
				}, 500 );
			$( '.shelter' )
				.fadeOut( "slow" )
		} )
} )

</script>

<div class="post">
    <div class="post-header-background post-header-color"
    style="background: url('')" 
>
    <div class="post-header-background-content">
        <ul class="post-header-tag">
            
            
            <li><a href="/tags/前端">前端</a></li>
            
            <li><a href="/tags/学习笔记">学习笔记</a></li>
            
            <li><a href="/tags/JavaScript">JavaScript</a></li>
            
            
        </ul>
        
        <h1>PC端网页特效</h1>
        <div class="post-header-info">
            <div class="post-header-info-author">
                
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                        <g>
                            <path fill="#12183A"
                                d="M6.187 15.265A6.47 6.47 0 0 0 10 16.5a6.47 6.47 0 0 0 3.813-1.235A4.99 4.99 0 0 0 10 13.5a4.99 4.99 0 0 0-3.813 1.765zM5.082 14.25A6.485 6.485 0 0 1 10 12c1.965 0 3.726.872 4.918 2.25a6.5 6.5 0 1 0-9.836 0zM10 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-1.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z">
                            </path>
                        </g>
                    </svg>
                
                <span class="post-header-info-author-text"> <a target="_blank" rel="noopener" href="https://github.com/79E/hexo-theme-quiet">Sheep</a></span>
                <div class="post-header-info-author-categories">
                    
                         <a href="../../categories/JavaScript/" target="_blank" >JavaScript</a>
                    
                </div>
                <p>2022-11-11 20:33:36</p>
            </div>
        </div>
    </div>
</div>
    <div class="post-content" id="content">
  
  <div id="article" class="post-content-info">
    

    <h1 id="1-三大系列"><a href="#1-三大系列" class="headerlink" title="1. 三大系列"></a>1. 三大系列</h1><h2 id="1-1-三大系列总结"><a href="#1-1-三大系列总结" class="headerlink" title="1.1 三大系列总结"></a>1.1 三大系列总结</h2><h3 id="1-1-1-三大系列大小对比"><a href="#1-1-1-三大系列大小对比" class="headerlink" title="1.1.1 三大系列大小对比"></a>1.1.1 三大系列大小对比</h3><p><img src="E:\sheep\study\notes\images\三大系列总结.png" alt="三大系列总结"></p>
<h3 id="1-1-2-三大系列的主要使用场景"><a href="#1-1-2-三大系列的主要使用场景" class="headerlink" title="1.1.2 三大系列的主要使用场景"></a>1.1.2 三大系列的主要使用场景</h3><ul>
<li>&#x3D;&#x3D;offset&#x3D;&#x3D; 系列经常用于&#x3D;&#x3D;获得元素位置&#x3D;&#x3D; &#x3D;&#x3D;offsetLeft offsetTop&#x3D;&#x3D;</li>
<li>&#x3D;&#x3D;client&#x3D;&#x3D; 经常用于&#x3D;&#x3D;获得元素大小&#x3D;&#x3D; &#x3D;&#x3D;clientWidth clientHeight&#x3D;&#x3D;</li>
<li>&#x3D;&#x3D;scroll&#x3D;&#x3D; 经常用于&#x3D;&#x3D;获得滚动距离&#x3D;&#x3D; &#x3D;&#x3D;scrollTop scrollLeft&#x3D;&#x3D;</li>
<li>注意：&#x3D;&#x3D;页面&#x3D;&#x3D;的滚动距离通过 &#x3D;&#x3D;window.pageYOffset&#x3D;&#x3D; 获得</li>
</ul>
<h2 id="1-2-元素偏移量-offset-系列"><a href="#1-2-元素偏移量-offset-系列" class="headerlink" title="1.2 元素偏移量 offset 系列"></a>1.2 元素偏移量 offset 系列</h2><h3 id="1-2-1-offset-概述"><a href="#1-2-1-offset-概述" class="headerlink" title="1.2.1 offset 概述"></a>1.2.1 offset 概述</h3><p>&#x3D;&#x3D;offset&#x3D;&#x3D; 翻译过来就是偏移量，我们使用offset系列相关属性可以&#x3D;&#x3D;动态的&#x3D;&#x3D;得到该元素的&#x3D;&#x3D;位置（偏移）、大小等&#x3D;&#x3D;。</p>
<ul>
<li>获得元素距离&#x3D;&#x3D;带有定位的&#x3D;&#x3D;父元素的位置</li>
<li>获得元素自身的大小（高度宽度）</li>
<li>注意：&#x3D;&#x3D;返回的数值不带单位&#x3D;&#x3D;</li>
</ul>
<h3 id="1-2-2-offset-系列常用属性"><a href="#1-2-2-offset-系列常用属性" class="headerlink" title="1.2.2 offset 系列常用属性"></a>1.2.2 offset 系列常用属性</h3><p><img src="E:\sheep\study\notes\images\offset系列属性.png" alt="offset系列属性"></p>
<ul>
<li>offsetWidth 可以得到元素的大小（包括边框），但不包含超出内容的长度；</li>
</ul>
<h3 id="1-2-3-offset-与-style-区别"><a href="#1-2-3-offset-与-style-区别" class="headerlink" title="1.2.3 offset 与 style 区别"></a>1.2.3 offset 与 style 区别</h3><table>
<thead>
<tr>
<th align="left">offset</th>
<th align="left">style</th>
</tr>
</thead>
<tbody><tr>
<td align="left">offset 可以得到任意样式表中的样式值</td>
<td align="left">style 只能得到行内样式表中的样式值</td>
</tr>
<tr>
<td align="left">offset 系列获得的数值是没有单位的</td>
<td align="left">style.width 获得的是带有单位的字符串</td>
</tr>
<tr>
<td align="left">offsetWidth 包含 padding+border+width</td>
<td align="left">style.width 获得不包含 padding 和 border的值</td>
</tr>
<tr>
<td align="left">offsetWidth 等属性是&#x3D;&#x3D;只读属性&#x3D;&#x3D;，&#x3D;&#x3D;只能获取不能赋值&#x3D;&#x3D;</td>
<td align="left">style.width是&#x3D;&#x3D;可读写属性&#x3D;&#x3D;，&#x3D;&#x3D;可以获取也可以赋值&#x3D;&#x3D;</td>
</tr>
<tr>
<td align="left">&#x3D;&#x3D;我们想要获取大量元素大小位置，用 offset&#x3D;&#x3D;</td>
<td align="left">&#x3D;&#x3D;我们想要给元素更改值，用 style&#x3D;&#x3D;</td>
</tr>
</tbody></table>
<ul>
<li><p>案例 - 计算鼠标在盒子内的坐标</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> div = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        div.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 鼠标在盒子内的坐标等于 鼠标相对文档页面的坐标 减去 box 相对父元素的坐标（此处父元素没有定位，则相对body）</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> x = e.<span class="property">pageX</span> - <span class="variable language_">this</span>.<span class="property">offsetLeft</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> y = e.<span class="property">pageY</span> - <span class="variable language_">this</span>.<span class="property">offsetTop</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;x坐标为：&#x27;</span> + x + <span class="string">&#x27;y坐标为：&#x27;</span> + y;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="1-3-元素可视区-client-系列"><a href="#1-3-元素可视区-client-系列" class="headerlink" title="1.3 元素可视区 client 系列"></a>1.3 元素可视区 client 系列</h2><h3 id="1-3-1-client-概述"><a href="#1-3-1-client-概述" class="headerlink" title="1.3.1 client 概述"></a>1.3.1 client 概述</h3><p>&#x3D;&#x3D;client&#x3D;&#x3D; 翻译过来就是客户端，我们使用 &#x3D;&#x3D;client&#x3D;&#x3D; 相关属性来&#x3D;&#x3D;获取元素可视区的相关信息&#x3D;&#x3D;。通过 client 系列的相关属性可以动态的得到该元素的&#x3D;&#x3D;边框大小、元素大小&#x3D;&#x3D;等。</p>
<h3 id="1-3-2-client-系列属性"><a href="#1-3-2-client-系列属性" class="headerlink" title="1.3.2 client 系列属性"></a>1.3.2 client 系列属性</h3><p><img src="E:\sheep\study\notes\images\client系列属性.png" alt="client系列属性"></p>
<ul>
<li>clientWidth 和 offsetWidth 一样，也可以得到元素的大小，但 &#x3D;&#x3D;clientWidth 返回的宽度，不包含边框（border）&#x3D;&#x3D;，且&#x3D;&#x3D;不包含超出内容的长度&#x3D;&#x3D;；</li>
</ul>
<h2 id="1-4-元素滚动-scroll-系列"><a href="#1-4-元素滚动-scroll-系列" class="headerlink" title="1.4 元素滚动 scroll 系列"></a>1.4 元素滚动 scroll 系列</h2><h3 id="1-4-1-scroll-概述"><a href="#1-4-1-scroll-概述" class="headerlink" title="1.4.1 scroll 概述"></a>1.4.1 scroll 概述</h3><p>&#x3D;&#x3D;scroll&#x3D;&#x3D; 翻译过来就是滚动的，我们使用 scroll 系列的相关属性可以动态的得到&#x3D;&#x3D;该元素的大小、滚动距离等&#x3D;&#x3D;</p>
<h3 id="1-4-2-scroll-系列属性"><a href="#1-4-2-scroll-系列属性" class="headerlink" title="1.4.2 scroll 系列属性"></a>1.4.2 scroll 系列属性</h3><p><img src="E:\sheep\study\notes\images\scroll系列属性.png" alt="scroll系列属性"></p>
<ul>
<li><p>scrollTop</p>
<ul>
<li><p>得到的是被卷曲的内容长度（即 &#x3D;&#x3D;box 上沿到文字内容最上端&#x3D;&#x3D;的距离）</p>
<img src="E:\sheep\study\notes\images\scrollTop.png" alt="scrollTop" style="zoom:50%;" /></li>
</ul>
</li>
<li><p>scrollWidth </p>
<ul>
<li>和 offsetWidth、clientWidth 一样，也可以得到元素的大小，但 &#x3D;&#x3D;scrollWidth 返回的宽度，不包含边框（border）&#x3D;&#x3D;，且&#x3D;&#x3D;包含超出内容的长度&#x3D;&#x3D;；</li>
</ul>
</li>
</ul>
<h3 id="1-4-3-scroll-滚动事件"><a href="#1-4-3-scroll-滚动事件" class="headerlink" title="1.4.3 scroll 滚动事件"></a>1.4.3 scroll 滚动事件</h3><ul>
<li><p>当我们滚动条发生变化时触发的事件</p>
</li>
<li><p>代码示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> div = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">div.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(div.<span class="property">scrollTop</span>);<span class="comment">// 这个值不是超出内容的长度，是会随着滚动不停变化的</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="1-5-案例：仿淘宝固定右侧侧边栏"><a href="#1-5-案例：仿淘宝固定右侧侧边栏" class="headerlink" title="1.5 案例：仿淘宝固定右侧侧边栏"></a>1.5 案例：仿淘宝固定右侧侧边栏</h2><blockquote>
<p>以前学过用 粘性定位 sticky 实现</p>
</blockquote>
<h3 id="1-5-1-案例要求"><a href="#1-5-1-案例要求" class="headerlink" title="1.5.1 案例要求"></a>1.5.1 案例要求</h3><ol>
<li>原先侧边栏是绝对定位</li>
<li>当页面滚动到一定位置，侧边栏改为固定定位</li>
<li>页面继续滚动，会让”返回顶部“显示出来</li>
</ol>
<h3 id="1-5-2-案例分析"><a href="#1-5-2-案例分析" class="headerlink" title="1.5.2 案例分析"></a>1.5.2 案例分析</h3><ul>
<li>需要用到页面滚动事件 scroll 因为是页面滚动，所以事件源是 document</li>
<li>滚动到某个位置，就是找出该位置页面被卷曲的上部值</li>
<li>&#x3D;&#x3D;页面被卷曲的头部&#x3D;&#x3D;：可以通过 &#x3D;&#x3D;window.pageYOffset&#x3D;&#x3D; 获得；如果被&#x3D;&#x3D;卷曲的是左部&#x3D;&#x3D; 则是 &#x3D;&#x3D;window.pageXOffset&#x3D;&#x3D;</li>
<li><strong>注意</strong>：&#x3D;&#x3D;元素&#x3D;&#x3D;被卷曲的头部可以用 &#x3D;&#x3D;element.scrollTop&#x3D;&#x3D;，而这里是&#x3D;&#x3D;页面&#x3D;&#x3D;被卷曲的头部则是 &#x3D;&#x3D;window.pageYOffset&#x3D;&#x3D;</li>
</ul>
<h3 id="1-5-3-代码实现"><a href="#1-5-3-代码实现" class="headerlink" title="1.5.3 代码实现"></a>1.5.3 代码实现</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.w</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">10px</span> auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.slider-bar</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-left</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">45px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">130px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">bottom</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.header</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: purple;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.banner</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">250px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.main</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">1000px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: yellowgreen;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;slider-bar&quot;</span>&gt;</span><span class="comment">&lt;!-- 侧边栏 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;goBack&quot;</span>&gt;</span>返回顶部<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header w&quot;</span>&gt;</span>头部区域<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;banner w&quot;</span>&gt;</span>banner区域<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main w&quot;</span>&gt;</span>主体部分<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 1. 获取元素</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> sliderbar = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.slider-bar&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> banner = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.banner&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> bannerTop = banner.<span class="property">offsetTop</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 当侧边栏固定之后应该变化的数值</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> sliderbarTop = sliderbar.<span class="property">offsetTop</span> - bannerTop;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 获取 main 主体元素 </span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> main = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.main&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> goBack = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.goBack&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> mainTop = main.<span class="property">offsetTop</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 2. 页面滚动事件 scroll</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// window.pageYOffset 页面被卷曲的头部</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 3. 当我们被卷曲的头部 &gt;= banner.offsetTop，此时侧边栏改为固定定位</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">pageYOffset</span> &gt;= bannerTop) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 把侧边栏改为固定定位</span></span></span><br><span class="line"><span class="language-javascript">                sliderbar.<span class="property">style</span>.<span class="property">position</span> = <span class="string">&#x27;fixed&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                sliderbar.<span class="property">style</span>.<span class="property">top</span> = sliderbarTop + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 再把侧边栏改回绝对定位</span></span></span><br><span class="line"><span class="language-javascript">                sliderbar.<span class="property">style</span>.<span class="property">position</span> = <span class="string">&#x27;absolute&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                sliderbar.<span class="property">style</span>.<span class="property">top</span> = <span class="string">&#x27;300px&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 4. 当我们页面滚动到 main 模块，就显示 goBack 盒子</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">pageYOffset</span> &gt;= mainTop) &#123;</span></span><br><span class="line"><span class="language-javascript">                goBack.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                goBack.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        )</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="1-6-案例：淘宝-flexble-js-源码分析"><a href="#1-6-案例：淘宝-flexble-js-源码分析" class="headerlink" title="1.6 案例：淘宝 flexble.js 源码分析"></a>1.6 案例：淘宝 flexble.js 源码分析</h2><blockquote>
<p>针对&#x3D;&#x3D;手机端&#x3D;&#x3D; flexble.js 的源码分析</p>
</blockquote>
<h3 id="1-6-1-立即执行函数-function"><a href="#1-6-1-立即执行函数-function" class="headerlink" title="1.6.1 立即执行函数 (function() {}) ()"></a>1.6.1 立即执行函数 (function() {}) ()</h3><ul>
<li><p>立即执行函数：&#x3D;&#x3D;不需要调用，立马能够自己执行的函数&#x3D;&#x3D;</p>
</li>
<li><p>主要作用：创建一个&#x3D;&#x3D;独立的作用域&#x3D;&#x3D;，避免了命名冲突的问题</p>
</li>
<li><p>写法：</p>
<ul>
<li><p>这里 function() 后面接的 () 其实就是调用的意思了</p>
</li>
<li><p>(function() {}) ()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">// 也可以传递参数进来</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(a + b);</span><br><span class="line">&#125;)(<span class="number">2</span> + <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>(function() {}())</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br><span class="line">&#125;());</span><br><span class="line"><span class="comment">// 也可以传递参数进来</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params">a,b</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a + b)</span><br><span class="line">&#125;(<span class="number">2</span> + <span class="number">3</span>))</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="1-6-2-load事件触发的三种情况"><a href="#1-6-2-load事件触发的三种情况" class="headerlink" title="1.6.2 load事件触发的三种情况"></a>1.6.2 load事件触发的三种情况</h3><ul>
<li><p>a 标签的超链接</p>
</li>
<li><p>F5 或者刷新按钮（强制刷新）</p>
</li>
<li><p>前进后退按钮</p>
<blockquote>
<p>火狐中有个”往返缓存“ 点击链接后后退到原来的页面，页面不会刷新，所以 load 时间也不会被触发。</p>
<blockquote>
<p>此时可以使用 pageshow 事件来触发，无论页面是否来缓存，在重新加载页面中，pageshow 会在 load 事件触发后触发；根据事件对象中的 persisted 来判断是否是缓存中的页面触发的 pageshow 事件，&#x3D;&#x3D;注意这个事件给 window 添加。&#x3D;&#x3D;</p>
</blockquote>
</blockquote>
</li>
</ul>
<h3 id="1-6-3-源码及详细解析"><a href="#1-6-3-源码及详细解析" class="headerlink" title="1.6.3 源码及详细解析"></a>1.6.3 源码及详细解析</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params">windows,<span class="variable language_">document</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 获取的 html 的根元素</span></span><br><span class="line">    <span class="keyword">let</span> docEl = <span class="variable language_">document</span>.<span class="property">documentElement</span>;</span><br><span class="line">    <span class="comment">// dpr：物理像素比；pc端为1；ipone 678 为 2 </span></span><br><span class="line">    <span class="comment">// 若能拿到 devicePixelRatio 则dpr为 devicePixelRatio，否则看作 1</span></span><br><span class="line">    <span class="keyword">let</span> dpr = windows.<span class="property">devicePixelRatio</span> || <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// adjust body font size 设置 body 字体大小</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">setBodyFontSize</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 判断页面是否有 body 这个元素</span></span><br><span class="line">        <span class="comment">// 如果有，就设置 body 的字体大小</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">body</span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">fontSize</span> = (<span class="number">12</span> * dpr) + <span class="string">&#x27;px&#x27;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 如果没有（比如js引入代码写在 body 之前时），则等待页面主要的 DOM 元素加载完毕后（DOMContentLoaded）再去设置 body</span></span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>,setBodyFontSize)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">setBodyFontSize</span>();<span class="comment">// 一开始就调用 setBodyFontSize 函数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// set 1rem = viewWidth / 10 设置 html 元素的文字大小</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">setRemUnit</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 设置 1rem 的大小为 网页端的 1/10</span></span><br><span class="line">        <span class="keyword">let</span> rem = docEl.<span class="property">clientWidth</span> / <span class="number">10</span></span><br><span class="line">        <span class="comment">// 设置移动端的宽度为 网页端的 1/10</span></span><br><span class="line">        docEl.<span class="property">style</span>.<span class="property">fontSize</span> = rem + <span class="string">&#x27;px&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">setRemUnit</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// reset rem unit on page resize 但我们页面尺寸大小发生变化的时候，要重新设置下 rem 的大小</span></span><br><span class="line">        <span class="comment">// resize事件 尺寸发生变化时触发</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;resize&#x27;</span>,setRemUnit)</span><br><span class="line">        <span class="comment">// pageshow事件 页面重新加载时触发</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pageshow&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="comment">// persisted 来判断是否是缓存中的页面触发的 pageshow 事件；如果为 true 则 需要重新计算rem大小，照顾 firefox 浏览器</span></span><br><span class="line">        <span class="keyword">if</span> (e.<span class="property">persisted</span>) &#123;</span><br><span class="line">            <span class="title function_">setRemUnit</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// detect 0.5px supports 有些移动端的浏览器不支持0.5像素的写法</span></span><br><span class="line">    <span class="comment">// 了解实现什么功能即可</span></span><br><span class="line">    <span class="keyword">if</span> (dpr &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> fakeBody = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;body&#x27;</span>)</span><br><span class="line">        <span class="keyword">let</span> testElement = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">        testElement.<span class="property">style</span>.<span class="property">border</span> = <span class="string">&#x27;.5px solid transparent&#x27;</span></span><br><span class="line">        fakeBody.<span class="title function_">appendChild</span>(testElement)</span><br><span class="line">        docEl.<span class="title function_">appendChild</span>(fakeBody)</span><br><span class="line">        <span class="keyword">if</span> (testElement.<span class="property">offsetHeight</span> === <span class="number">1</span>) &#123;</span><br><span class="line">            docEl.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;hairlines&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        docEl.<span class="title function_">removeChild</span>(fakeBody)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;(windows,<span class="variable language_">document</span>))</span><br></pre></td></tr></table></figure>

<h1 id="2-动画函数封装"><a href="#2-动画函数封装" class="headerlink" title="2. 动画函数封装"></a>2. 动画函数封装</h1><h2 id="2-1-动画实现原理"><a href="#2-1-动画实现原理" class="headerlink" title="2.1 动画实现原理"></a>2.1 动画实现原理</h2><ul>
<li><p>&#x3D;&#x3D;核心原理&#x3D;&#x3D;：通过&#x3D;&#x3D;定时器 setInterval()&#x3D;&#x3D; 不断移动盒子位置。</p>
</li>
<li><p>实现步骤：</p>
<ul>
<li>获得盒子当前位置</li>
<li>让盒子在当前位置加上 1 个移动距离</li>
<li>利用定时器不断重复这个操作</li>
<li>&#x3D;&#x3D;加上一个结束定时器的条件&#x3D;&#x3D;</li>
<li>注意此元素&#x3D;&#x3D;需要添加定位&#x3D;&#x3D;，才能使用 element.style.left</li>
</ul>
</li>
<li><p>代码实现</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 一定要添加定位！！！ */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">	    <span class="comment">// 1. 获取元素</span></span></span><br><span class="line"><span class="language-javascript">	    <span class="keyword">let</span> div = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">	    <span class="comment">// 2. 获取元素当前位置,并移动;利用定时器不断重复这个操作</span></span></span><br><span class="line"><span class="language-javascript">	        <span class="comment">// div.offsetLeft 是可读不可写的</span></span></span><br><span class="line"><span class="language-javascript">	    <span class="keyword">let</span> timer = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">	        <span class="comment">// 3. 添加结束定时器的条件</span></span></span><br><span class="line"><span class="language-javascript">	        <span class="keyword">if</span>(div.<span class="property">offsetLeft</span> &gt;= <span class="number">400</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">	            <span class="comment">// 停止动画 本质是停止定时器</span></span></span><br><span class="line"><span class="language-javascript">	            <span class="built_in">clearInterval</span>(timer);</span></span><br><span class="line"><span class="language-javascript">	        &#125;</span></span><br><span class="line"><span class="language-javascript">	        div.<span class="property">style</span>.<span class="property">left</span> = div.<span class="property">offsetLeft</span> + <span class="number">1</span> + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">	    &#125;,<span class="number">30</span>);</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-2-动画函数简单封装"><a href="#2-2-动画函数简单封装" class="headerlink" title="2.2 动画函数简单封装"></a>2.2 动画函数简单封装</h2><ul>
<li><p>注意函数需要传递两个参数，&#x3D;&#x3D;动画对象 obj&#x3D;&#x3D; 和 &#x3D;&#x3D;移动到的距离target&#x3D;&#x3D;</p>
</li>
<li><p>代码实现：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 简单动画函数封装：obj目标对象，target 目标位置</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">animate</span>(<span class="params">obj,target</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(obj.<span class="property">offsetLeft</span> &gt;= target) &#123;</span><br><span class="line">            <span class="comment">// 停止动画 本质是停止定时器</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        &#125;</span><br><span class="line">        obj.<span class="property">style</span>.<span class="property">left</span> = obj.<span class="property">offsetLeft</span> + <span class="number">1</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    &#125;,<span class="number">30</span>);</span><br><span class="line">&#125;；</span><br><span class="line"><span class="comment">// 调用函数</span></span><br><span class="line"><span class="keyword">let</span> div = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="title function_">animate</span>(div,<span class="number">400</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-3-动画函数给不同元素记录不同定时器"><a href="#2-3-动画函数给不同元素记录不同定时器" class="headerlink" title="2.3 动画函数给不同元素记录不同定时器"></a>2.3 动画函数给不同元素记录不同定时器</h2><blockquote>
<p>&#x3D;&#x3D;如果多个元素都使用这个动画函数，每次都要 let 声明定时器&#x3D;&#x3D;。我们可以给不同的元素使用不同的定时器（自己专门用自己的定时器）</p>
</blockquote>
<ul>
<li><p>核心原理：利用 JS 是一门动态语言，可以很方便的给当前对象添加属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;<span class="comment">// 创建一个空对象</span></span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&#x27;andy&#x27;</span>;<span class="comment">// 给空对象添加属性</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>代码实现：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 简单动画函数封装：obj目标对象，target 目标位置</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">animate</span>(<span class="params">obj,target</span>) &#123;</span><br><span class="line">    <span class="comment">// 当我们不断的点击按钮，这个元素的速度会越来越快，因为开启了太多的定时器</span></span><br><span class="line">    <span class="comment">// 解决方案就是 让我们元素只有一个定时器执行</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.<span class="property">timer</span>);<span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// obj.timer 给不同的元素指定了不同的定时器</span></span><br><span class="line">    obj.<span class="property">timer</span> = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(obj.<span class="property">offsetLeft</span> &gt;= target) &#123;</span><br><span class="line">            <span class="comment">// 停止动画 本质是停止定时器</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.<span class="property">timer</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        obj.<span class="property">style</span>.<span class="property">left</span> = obj.<span class="property">offsetLeft</span> + <span class="number">1</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    &#125;,<span class="number">30</span>);</span><br><span class="line">&#125;；</span><br><span class="line"><span class="comment">// 点击 button 调用函数</span></span><br><span class="line"><span class="keyword">let</span> div = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line">btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">animate</span>(div,<span class="number">400</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-4-缓动效果原理"><a href="#2-4-缓动效果原理" class="headerlink" title="2.4 缓动效果原理"></a>2.4 缓动效果原理</h2><blockquote>
<p>缓动动画就是&#x3D;&#x3D;让元素运动速度有所变化&#x3D;&#x3D;，最常见的是让速度慢慢停下来</p>
</blockquote>
<ul>
<li><p>思路</p>
<ul>
<li>让盒子每次移动的距离慢慢变小，速度就会慢慢落下来</li>
<li>核心算法：&#x3D;&#x3D;（目标值 - 现在的位置）&#x2F; 10，作为每次移动的距离步长&#x3D;&#x3D;</li>
<li>停止的条件：让当前盒子位置等于目标位置时就停止定时器</li>
<li>&#x3D;&#x3D;注意步长需要取整&#x3D;&#x3D; Math.ceil &#x2F; Math.floor<ul>
<li>&#x3D;&#x3D;若元素在两个值之间移动，则要通过判断步长值的正负来决定是向上还是向下取整&#x3D;&#x3D;：往右移动时 step &gt; 0 ，向大取整；往左移动时 step &lt; 0 ，向小取整；</li>
</ul>
</li>
</ul>
</li>
<li><p>缓动动画基本代码实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">animate</span>(<span class="params">obj,target</span>) &#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.<span class="property">timer</span>);<span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span><br><span class="line">    obj.<span class="property">timer</span> = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 步长值写在定时器的里面</span></span><br><span class="line">        <span class="comment">// 把我们步长值改为整数 不要出现小数的问题 Math.ceil 往大取整 Math.floor 向下取整</span></span><br><span class="line">        <span class="keyword">let</span> step = target - obj.<span class="property">offsetLeft</span>) / <span class="number">10</span>;</span><br><span class="line">        <span class="comment">// 若元素在两个值之间移动，则要通过判断步长值的正负来决定是向上还是向下取整：往右移动时 step &gt; 0 ，向大取整；往左移动时 step &lt; 0 ，向小取整；</span></span><br><span class="line">        step &gt; <span class="number">0</span> ? <span class="title class_">Math</span>.<span class="title function_">ceil</span>(step) : <span class="title class_">Math</span>.<span class="title function_">floor</span>(step);</span><br><span class="line">        <span class="keyword">if</span>(obj.<span class="property">offsetLeft</span> &gt;= target) &#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.<span class="property">timer</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 把每次加 1 这个步长值改为一个慢慢变小的值  步长公式：（目标值 - 现在的位置）/ 10</span></span><br><span class="line">        obj.<span class="property">style</span>.<span class="property">left</span> = obj.<span class="property">offsetLeft</span> + step + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    &#125;,<span class="number">30</span>);</span><br><span class="line">&#125;；</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用函数</span></span><br><span class="line"><span class="keyword">let</span> btn500 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.btn500&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> btn500 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.btn500&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-5-动画函数添加回调函数"><a href="#2-5-动画函数添加回调函数" class="headerlink" title="2.5 动画函数添加回调函数"></a>2.5 动画函数添加回调函数</h2><ul>
<li><p>&#x3D;&#x3D;回调函数原理&#x3D;&#x3D;：函数可以作为一个参数。将这个函数作为参数传到另一个函数里面，当那个函数执行完后，在执行传进去的这个函数，这个过程就叫做&#x3D;&#x3D;回调&#x3D;&#x3D;</p>
</li>
<li><p>案例：当 box 移动到 200px 时，颜色改为 purple</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> div = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">animate</span>(<span class="params">obj,target,callback</span>) &#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.<span class="property">timer</span>);</span><br><span class="line">    obj.<span class="property">timer</span> = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        obj.<span class="property">style</span>.<span class="property">left</span> = obj.<span class="property">offsetLeft</span> + <span class="number">1</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span> (obj.<span class="property">offsetLeft</span> &gt;= target) &#123;</span><br><span class="line">        	<span class="built_in">clearInterval</span>(obj.<span class="property">timer</span>);</span><br><span class="line">        	<span class="comment">// 回调函数写到定时器结束里面</span></span><br><span class="line">        	<span class="comment">// 定时器结束完了再执行的函数  回调函数</span></span><br><span class="line">        	<span class="keyword">if</span>(callback) &#123;</span><br><span class="line">            <span class="comment">// 调用函数</span></span><br><span class="line">            <span class="title function_">callback</span>();</span><br><span class="line">        	&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="number">30</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">animate</span>(div,<span class="number">200</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    div.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;purple&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-6-动画函数封装到单独-JS-文件里面"><a href="#2-6-动画函数封装到单独-JS-文件里面" class="headerlink" title="2.6 动画函数封装到单独 JS 文件里面"></a>2.6 动画函数封装到单独 JS 文件里面</h2><blockquote>
<p>因为以后经常使用这个动画函数，可以单独封装到一个 JS 文件里面，使用的时候引用这个文件即可。</p>
</blockquote>
<h3 id="2-6-1-封装-animate-缓动动画函数"><a href="#2-6-1-封装-animate-缓动动画函数" class="headerlink" title="2.6.1 封装 animate 缓动动画函数"></a>2.6.1 封装 animate 缓动动画函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">animate</span>(<span class="params">obj, target, callback</span>) &#123;</span><br><span class="line">    <span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.<span class="property">timer</span>);</span><br><span class="line">    obj.<span class="property">timer</span> = <span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 步长值写到定时器的里面</span></span><br><span class="line">        <span class="comment">// 把我们步长值改为整数 不要出现小数的问题</span></span><br><span class="line">        <span class="comment">// var step = Math.ceil((target - obj.offsetLeft) / 10);</span></span><br><span class="line">        <span class="keyword">let</span> step = (target - obj.<span class="property">offsetLeft</span>) / <span class="number">10</span>;</span><br><span class="line">        step = step &gt; <span class="number">0</span> ? <span class="title class_">Math</span>.<span class="title function_">ceil</span>(step) : <span class="title class_">Math</span>.<span class="title function_">floor</span>(step);</span><br><span class="line">        <span class="keyword">if</span> (obj.<span class="property">offsetLeft</span> == target) &#123;</span><br><span class="line">            <span class="comment">// 停止动画 本质是停止定时器</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.<span class="property">timer</span>);</span><br><span class="line">            <span class="comment">// 回调函数写到定时器结束里面</span></span><br><span class="line">            callback &amp;&amp; <span class="title function_">callback</span>(); <span class="comment">// 相当于 if callback &#123;callback()&#125;;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 把每次加1 这个步长值改为一个慢慢变小的值  步长公式：(目标值 - 现在的位置) / 10</span></span><br><span class="line">        obj.<span class="property">style</span>.<span class="property">left</span> = obj.<span class="property">offsetLeft</span> + step + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    &#125;, <span class="number">15</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-6-3-调用-animate-函数实例"><a href="#2-6-3-调用-animate-函数实例" class="headerlink" title="2.6.3 调用 animate 函数实例"></a>2.6.3 调用 animate 函数实例</h3><ul>
<li><p>要求实现效果如图</p>
<ul>
<li><p>收缩状态</p>
<ul>
<li>箭头向左</li>
</ul>
<p><img src="E:\sheep\study\notes\images\收缩状态.png" alt="收缩状态"></p>
</li>
<li><p>弹出状态</p>
<ul>
<li>箭头向右</li>
</ul>
<p><img src="E:\sheep\study\notes\images\弹出状态.png" alt="弹出状态"></p>
</li>
</ul>
</li>
<li><p>代码实现</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    /* 引入 JS 文件 */ </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;animate.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sliderbar&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>←<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;con&quot;</span>&gt;</span>问题反馈<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1. 获取元素</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> sliderbar = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.sliderbar&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> con = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.con&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> span = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;span&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 当鼠标经过 sliderbar 就会让 con 这个盒子滑动到左侧</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// mouseenter 没有冒泡</span></span></span><br><span class="line"><span class="language-javascript">    sliderbar.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseenter&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// animate(obj,target,callback);</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">animate</span>(con,-<span class="number">160</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 当动画执行完毕 就把左箭头改为右箭头</span></span></span><br><span class="line"><span class="language-javascript">            span.<span class="property">innerHTML</span> = <span class="string">&#x27;→&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 当鼠标经过 sliderbar 就会让 con 这个盒子滑动到右侧</span></span></span><br><span class="line"><span class="language-javascript">    sliderbar.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseleave&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// animate(obj,target,callback);</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">animate</span>(con,<span class="number">0</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 当动画执行完毕 就把右箭头改为左箭头</span></span></span><br><span class="line"><span class="language-javascript">            span.<span class="property">innerHTML</span> = <span class="string">&#x27;←&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="3-常见网页特效案例"><a href="#3-常见网页特效案例" class="headerlink" title="3. 常见网页特效案例"></a>3. 常见网页特效案例</h1><h2 id="3-1-网页轮播图"><a href="#3-1-网页轮播图" class="headerlink" title="3.1 网页轮播图"></a>3.1 网页轮播图</h2><h3 id="3-1-1-功能需求"><a href="#3-1-1-功能需求" class="headerlink" title="3.1.1 功能需求"></a>3.1.1 功能需求</h3><ul>
<li>鼠标经过轮播图模块，左右按钮显示，鼠标离开隐藏左右按钮。</li>
<li>点击右侧按钮一次，图片往左播放一张，以此类推，左侧按钮同理。</li>
<li>图片播放的同时，下面小圆点模块跟随一起变化。</li>
<li>点击小圆点，可以播放相应图片。</li>
<li>鼠标不经过轮播图，轮播图也会自动播放照片。</li>
<li>鼠标经过，轮播图模块自动停止播放。</li>
</ul>
<h3 id="3-1-2-代码实现"><a href="#3-1-2-代码实现" class="headerlink" title="3.1.2 代码实现"></a>3.1.2 代码实现</h3><ul>
<li><p>index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#666</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.focus</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">721px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">455px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.arrow-l</span>,</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.arrow-r</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-top</span>: -<span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">24px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">3</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">18px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">z-index</span>: <span class="number">2</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.arrow-r</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.circle</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.circle</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">5</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">3px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.current</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 被选中的小圆点 */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.focus</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 使所有轮播图在一行上 */</span></span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 必须有定位才能使用动画函数 */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">500%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.focus</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引入 animate.js --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/animate.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引入 首页的 js 文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;focus fl&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 左侧按钮 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;arrow-l&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- &amp;lt 表示左半括号 &lt; --&gt;</span></span><br><span class="line">            <span class="symbol">&amp;lt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 右侧按钮 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;arrow-r&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 用 &amp;gt 表示右半括号 &gt; --&gt;</span></span><br><span class="line">            <span class="symbol">&amp;gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 核心的滚动区域 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;upload/focus.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;upload/focus1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;upload/focus2.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;upload/focus3.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 小圆点 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">&quot;circle&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 因为 JS 较多，我们单独新建 js 文件，引入页面中。</span></span><br><span class="line"><span class="comment">// 此时需要添加 load 事件（全部加载完成后执行）</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 1. 获取元素</span></span><br><span class="line">    <span class="keyword">let</span> arrow_l = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.arrow-l&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> arrow_r = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.arrow-r&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> focus = <span class="variable language_">this</span>.<span class="property">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.focus&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> focusWidth = focus.<span class="property">offsetWidth</span>;</span><br><span class="line">    <span class="comment">// 2. 鼠标经过focus 就显示左右按钮</span></span><br><span class="line">    focus.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            arrow_l.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">            arrow_r.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">            <span class="comment">// 鼠标经过停止轮播                                                             </span></span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">            timer = <span class="literal">null</span>;<span class="comment">//清除定时器变量</span></span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="comment">// 鼠标离开focus 就隐藏左右按钮</span></span><br><span class="line">    focus.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        arrow_l.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        arrow_r.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        timer = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">//手动调用点击事件</span></span><br><span class="line">            arrow_r.<span class="title function_">click</span>();</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 动态生成小圆点</span></span><br><span class="line">    <span class="keyword">let</span> ul = focus.<span class="title function_">querySelector</span>(<span class="string">&#x27;ul&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> ol = focus.<span class="title function_">querySelector</span>(<span class="string">&#x27;.circle&#x27;</span>)</span><br><span class="line">    <span class="comment">// focus.ul 里有多少个 li 我们就创建多少个小圆点</span></span><br><span class="line">    <span class="comment">// console.log(ul.children.length);</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; ul.<span class="property">children</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// 创建一个 li</span></span><br><span class="line">        <span class="keyword">let</span> li = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line">        <span class="comment">// 记录当前小圆点的索引号 通过自定义属性来做</span></span><br><span class="line">        li.<span class="title function_">setAttribute</span>(<span class="string">&#x27;index&#x27;</span>,i);</span><br><span class="line">        <span class="comment">// 把 li 插入到 ol 里</span></span><br><span class="line">        ol.<span class="title function_">appendChild</span>(li);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4. 小圆点的排他思想 生成小圆点的同时绑定点击事件</span></span><br><span class="line">        li.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// 干掉所有人 把所有的 li 清除 current 类名</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; ol.<span class="property">children</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                ol.<span class="property">children</span>[i].<span class="property">className</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 留下我自己 当前的 li 设置 current 类名</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">className</span> = <span class="string">&#x27;current&#x27;</span>;</span><br><span class="line">            <span class="comment">// 5. 点击小圆圈移动图片 此时移动的是 ul</span></span><br><span class="line">            <span class="comment">// ul 的移动距离就是 小圆点的索引号 乘以 图片的宽度</span></span><br><span class="line">            <span class="comment">// 当我们点击了某个 li 就拿到当前 li 的索引号</span></span><br><span class="line">            <span class="keyword">let</span> index = <span class="variable language_">this</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;index&#x27;</span>);</span><br><span class="line">            <span class="comment">// 当我们点击了某个 li，就要把这个 li 的索引号给 num</span></span><br><span class="line">            num = index;</span><br><span class="line">            <span class="comment">// 当我们点击了某个 li，就要把这个 li 的索引号给 circle</span></span><br><span class="line">            circle = index;</span><br><span class="line">            <span class="comment">// 调用函数</span></span><br><span class="line">            <span class="title function_">animate</span>(ul,-index * focusWidth);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 把 ol 里面的第一个 li 设置类名为 current</span></span><br><span class="line">    ol.<span class="property">children</span>[<span class="number">0</span>].<span class="property">className</span> = <span class="string">&#x27;current&#x27;</span>;</span><br><span class="line">    <span class="comment">// 6. 克隆第一张图片（li），放到 ul 最后面</span></span><br><span class="line">        <span class="comment">// cloneNode(true) 为深克隆 可以克隆原节点及其子节点</span></span><br><span class="line">    <span class="keyword">let</span> first = ul.<span class="property">children</span>[<span class="number">0</span>].<span class="title function_">cloneNode</span>(<span class="literal">true</span>);</span><br><span class="line">    ul.<span class="title function_">appendChild</span>(first);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 7. 点击右侧按钮，图片滚动一张</span></span><br><span class="line">        <span class="comment">// 图片滚动原理：①把 ul 第一个 li 复制一份，放到 ul 的最后面；②当图片滚动到克隆的最后一张照片时，让 ul 快速的、不做动画的跳到最左侧：left 为 0</span></span><br><span class="line">    <span class="keyword">let</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// circle 控制小圆点的播放</span></span><br><span class="line">    <span class="keyword">let</span> circle = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// flag 节流阀</span></span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">true</span>;</span><br><span class="line">    arrow_r.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">if</span>(flag) &#123;<span class="comment">// 节流阀开启时才能执行</span></span><br><span class="line">            flag = <span class="literal">false</span>;<span class="comment">// 关闭节流阀</span></span><br><span class="line">            <span class="comment">// 声明一个变量 num，点击一次自增 1，让这个变量乘以图片宽度，就是 ul 的滚动距离</span></span><br><span class="line">        	<span class="comment">// 如果走到了最后复制的一张图片，此时 我们的 ul 要快速复原 left 改为 0 </span></span><br><span class="line">        	<span class="keyword">if</span>(num == ul.<span class="property">children</span>.<span class="property">length</span> - <span class="number">1</span>) &#123;</span><br><span class="line">            	ul.<span class="property">style</span>.<span class="property">left</span> = <span class="number">0</span>;</span><br><span class="line">            	num = <span class="number">0</span>;</span><br><span class="line">        	&#125;</span><br><span class="line">        	num++;</span><br><span class="line">        	<span class="title function_">animate</span>(ul,-num*focusWidth,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                flag = <span class="literal">true</span>;<span class="comment">// 回调函数 开启节流阀</span></span><br><span class="line">            &#125;);</span><br><span class="line">        	<span class="comment">// 8. 点击右侧按钮，小圆点跟随一起变化，可以声明一个变量 circle 控制小圆点的播放</span></span><br><span class="line">        	circle++;</span><br><span class="line">        	<span class="comment">// 如果circle == ol.children.length 说明我们走到克隆的这张图片了 我们就复原</span></span><br><span class="line">        	<span class="keyword">if</span>(circle == ol.<span class="property">children</span>.<span class="property">length</span>) &#123;</span><br><span class="line">            	circle = <span class="number">0</span>;</span><br><span class="line">        	&#125;</span><br><span class="line">        	<span class="comment">// 调用函数 修改圆点样式</span></span><br><span class="line">        	<span class="title function_">circleChange</span>();</span><br><span class="line">        	&#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 9. 左侧按钮做法</span></span><br><span class="line">    arrow_l.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">if</span>(flag) &#123;</span><br><span class="line">            flag = <span class="literal">false</span>;<span class="comment">// 关闭节流阀</span></span><br><span class="line">        <span class="comment">// 如果走到了第一张图片，此时 我们的 ul 要快速复原 left 为最后一张复制的图片左侧</span></span><br><span class="line">        	<span class="keyword">if</span>(num == <span class="number">0</span>) &#123;</span><br><span class="line">        	    num = ul.<span class="property">children</span>.<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line">        	    ul.<span class="property">style</span>.<span class="property">left</span> = -num * focusWidth + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        	&#125;</span><br><span class="line">        	num--;</span><br><span class="line">        	<span class="comment">// 可以把ul理解为一把尺子 向左向右靠移动的是大小 而符号不变 总的来说都是往左移动</span></span><br><span class="line">        	<span class="title function_">animate</span>(ul,-num * focusWidth,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                flag = <span class="literal">true</span>;<span class="comment">// 开启节流阀</span></span><br><span class="line">            &#125;);</span><br><span class="line">        	<span class="comment">// 点击左侧按钮，小圆点跟随一起变化，可以声明一个变量 circle 控制小圆点的播放</span></span><br><span class="line">        	circle--;</span><br><span class="line">        	<span class="comment">// 如果circle &lt; 0 说明第一张图片了 小圆点要改为第四个小圆点</span></span><br><span class="line">        	<span class="comment">// if(circle &lt; 0) &#123;</span></span><br><span class="line">        	<span class="comment">//     circle = ol.children.length - 1;</span></span><br><span class="line">        	<span class="comment">// &#125;</span></span><br><span class="line">        	circle &lt; <span class="number">0</span> ? ol.<span class="property">children</span>.<span class="property">length</span> - <span class="number">1</span> : circle;</span><br><span class="line">        	<span class="comment">// 调用函数 修改圆点样式</span></span><br><span class="line">        	<span class="title function_">circleChange</span>();	</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 封装一个函数 用来修改圆点样式</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">circleChange</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 排他思想：</span></span><br><span class="line">        <span class="comment">// 先清除其他小圆点的类名</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; ol.<span class="property">children</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            ol.<span class="property">children</span>[i].<span class="property">className</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 留下当前的小圆点类名</span></span><br><span class="line">        ol.<span class="property">children</span>[circle].<span class="property">className</span> = <span class="string">&#x27;current&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 10.自动播放轮播图</span></span><br><span class="line">    <span class="keyword">let</span> timer = <span class="variable language_">this</span>.<span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 手动调用点击事件</span></span><br><span class="line">        arrow_r.<span class="title function_">click</span>();</span><br><span class="line">    &#125;,<span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-2-节流阀"><a href="#3-2-节流阀" class="headerlink" title="3.2 节流阀"></a>3.2 节流阀</h2><blockquote>
<p>&#x3D;&#x3D;防止轮播图&#x3D;&#x3D;连续点击造成&#x3D;&#x3D;播放过快&#x3D;&#x3D;。</p>
<p>节流阀目的：&#x3D;&#x3D;当上一个函数动画内容执行完毕，再去执行下一个函数动画&#x3D;&#x3D;，让事件无法连续触发。</p>
<p>核心实现思路：利用&#x3D;&#x3D;回调函数&#x3D;&#x3D;，添加一个变量来控制，锁住函数和解锁函数。</p>
</blockquote>
<h3 id="3-2-1-代码实现"><a href="#3-2-1-代码实现" class="headerlink" title="3.2.1 代码实现"></a>3.2.1 代码实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// flag 节流阀</span></span><br><span class="line"><span class="keyword">let</span> flag = <span class="literal">true</span>;</span><br><span class="line">btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(flag) &#123; <span class="comment">// 节流阀开启时才能执行</span></span><br><span class="line">        flag = <span class="literal">false</span>;<span class="comment">// 关闭节流阀</span></span><br><span class="line">        <span class="title function_">animate</span>(obj,target,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            flag = <span class="literal">true</span>;<span class="comment">// 回调函数 开启节流阀</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="3-3-返回顶部功能"><a href="#3-3-返回顶部功能" class="headerlink" title="3.3 返回顶部功能"></a>3.3 返回顶部功能</h2><ul>
<li><p>滚动窗口至文档中的特定位置</p>
<ul>
<li>window.scroll(x,y)</li>
</ul>
</li>
<li><p>功能代码实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">goBack.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">scroll</span>(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>带有动画缓慢的返回顶部</p>
<ul>
<li><p>需要用到我们之前封装的 animate 函数，但需要把左右改为上下</p>
</li>
<li><p>代码实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回顶部</span></span><br><span class="line"><span class="comment">// 滚动窗口至文档中的特定位置 window.scroll(x,y)</span></span><br><span class="line">goBack.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">animate</span>(<span class="variable language_">window</span>,<span class="number">0</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 动画函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">animate</span>(<span class="params">obj, target, callback</span>) &#123;</span><br><span class="line">    <span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.<span class="property">timer</span>);</span><br><span class="line">    obj.<span class="property">timer</span> = <span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 步长值写到定时器的里面</span></span><br><span class="line">        <span class="comment">// 把我们步长值改为整数 不要出现小数的问题</span></span><br><span class="line">        <span class="keyword">let</span> step = (target - <span class="variable language_">window</span>.<span class="property">pageYOffset</span>) / <span class="number">10</span>;</span><br><span class="line">        step = step &gt; <span class="number">0</span> ? <span class="title class_">Math</span>.<span class="title function_">ceil</span>(step) : <span class="title class_">Math</span>.<span class="title function_">floor</span>(step);</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">pageYOffset</span> == target) &#123;</span><br><span class="line">            <span class="comment">// 停止动画 本质是停止定时器</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.<span class="property">timer</span>);</span><br><span class="line">            <span class="comment">// 回调函数写到定时器结束里面</span></span><br><span class="line">            <span class="keyword">if</span> (callback) &#123;</span><br><span class="line">                <span class="comment">// 调用函数</span></span><br><span class="line">                <span class="title function_">callback</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 这里的callback &amp;&amp; callback(data);相当于 if callback &#123;callback()&#125;;</span></span><br><span class="line">            <span class="comment">// callback &amp;&amp; callback();</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">// 把每次加1 这个步长值改为一个慢慢变小的值  步长公式：(目标值 - 现在的位置) / 10</span></span><br><span class="line">    <span class="comment">// obj.style.top = window.pageYOffset + step + &#x27;px&#x27;;</span></span><br><span class="line">    	<span class="variable language_">window</span>.<span class="title function_">scroll</span>(<span class="number">0</span>,<span class="variable language_">window</span>.<span class="property">pageYOffset</span> + step);</span><br><span class="line">	&#125;,<span class="number">15</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="3-4-筋斗云导航栏"><a href="#3-4-筋斗云导航栏" class="headerlink" title="3.4 筋斗云导航栏"></a>3.4 筋斗云导航栏</h2><h3 id="3-4-1-案例需求"><a href="#3-4-1-案例需求" class="headerlink" title="3.4.1 案例需求"></a>3.4.1 案例需求</h3><ul>
<li>鼠标经过某个 li ，筋斗云跟着到当前 li 的位置</li>
<li>鼠标离开这个 li ，筋斗云复原为原来的位置</li>
<li>鼠标点击了某个 li，筋斗云就会停留在点击的这个 li 的位置</li>
</ul>
<h3 id="3-4-2-代码实现"><a href="#3-4-2-代码实现" class="headerlink" title="3.4.2 代码实现"></a>3.4.2 代码实现</h3><ul>
<li><p>index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 1.获取元素</span></span><br><span class="line">    <span class="keyword">let</span> cloud = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.cloud&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> c_nav = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.c-nav&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> lis = c_nav.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line">    <span class="comment">// 2.给所有的 li 绑定事件</span></span><br><span class="line">    <span class="comment">// 这个 current 作为筋斗云的起始位置</span></span><br><span class="line">    <span class="keyword">let</span> current = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// （1）鼠标经过哪个 li 筋斗云则移动到哪里</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; lis.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        lis[i].<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseenter&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title function_">animate</span>(cloud,<span class="variable language_">this</span>.<span class="property">offsetLeft</span>)</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// （2）鼠标离开 则筋斗云回到起始的位置</span></span><br><span class="line">        lis[i].<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseleave&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title function_">animate</span>(cloud,current)</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// （3）鼠标点击某个 li ，就把当前位置作为目标值</span></span><br><span class="line">        lis[i].<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            current = <span class="variable language_">this</span>.<span class="property">offsetLeft</span>;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#333</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: black;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.c-nav</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">900px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">42px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="number">#fff</span> <span class="built_in">url</span>(<span class="string">images/rss.png</span>) no-repeat right center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.c-nav</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.c-nav</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">83px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">42px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.c-nav</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.cloud</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">83px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">42px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">images/cloud.gif</span>) no-repeat;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/animate.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;c_nav&quot;</span> <span class="attr">class</span>=<span class="string">&quot;c-nav&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;cloud&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color: #0dff1d;&quot;</span>&gt;</span>首页新闻<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>师资力量<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>活动策划<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>企业文化<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>招聘信息<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>公司简介<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>哈喽哈喽<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>嘿嘿哈嘿<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>

  </div>
  <div id="gitalk-container"></div>
</div>

<script>
  
Fancybox.bind('[data-fancybox="fancybox-gallery-img"]', {
  dragToClose: true,
  Toolbar: true,
  closeButton: "top",
  Image: {
    zoom: true,
  },
  on: {
    initCarousel: (fancybox) => {
      const slide = fancybox.Carousel.slides[fancybox.Carousel.page];
      fancybox.$container.style.setProperty(
        "--bg-image",
        `url("${slide.$thumb.src}")`
      );
    },
    "Carousel.change": (fancybox, carousel, to, from) => {
      const slide = carousel.slides[to];
      fancybox.$container.style.setProperty(
        "--bg-image",
        `url("${slide.$thumb.src}")`
      );
    },
  },
});
</script>

<style>
    #noneimg img {
        display: none;
        z-index: 9999;
        /* width: 600px !important; */
        min-width: 0%;
        max-width: 90%;
        max-height: 80%;
        border-radius: 0px;
        position: fixed;
        box-shadow: 0 0 0px #c3c3c300 !important;
        left: 0;
        top: 0;
        right: 0;
        bottom: 0;
        margin: auto !important;
    }

    @media screen and (max-width:600px) {
        #noneimg img {
            max-width: 88%
        }
    }
</style>

    <div class="post-paging">
    
    <a href="/2022/11/11/JavaScript%E5%9F%BA%E7%A1%80/">
        <div class="post-paging-last">
            <span>上一篇</span>
            <p>JavaScript基础</p>
        </div>
    </a>
    

    
    <a href="/2022/11/11/JavaScript%E9%AB%98%E7%BA%A7/">
        <div class="post-paging-next">
            <span>下一篇</span>
            <p>JavaScript高级</p>
        </div>
    </a>
    
</div>
</div>
		
<div class="footer">
	<div class="Copyright">
		©2022 By sheep. 主题：<a
			style="text-decoration: none;display: contents; color: #898F9F;"
			target="_blank" rel="noopener" href="https://github.com/79e/hexo-theme-quiet">Quiet</a>
	</div>
	<div class="contact">
		
		<a target="_blank" rel="noopener" href="https://github.com/79E/hexo-theme-quiet">
			<img src="https://cdn.jsdelivr.net/gh/duogongneng/MyBlogImg/imggithub.png" alt="Quiet主题">
		</a>
		
	</div>
</div>

<script src="/js/gotop.js"></script>


<style type="text/css">
    @media screen and (min-width: 600px) {
        .goTop>span {
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            width: 40px;
            height: 40px;
            cursor: pointer;
            opacity: 0.8;
            background: rgba(18, 24, 58, 0.06);
            text-align: center;
            transition: border .5s;
            border: 1px solid rgba(18, 24, 58, 0.06);

            -moz-transition: border .5s;
            /* Firefox 4 */
            -webkit-transition: border .5s;
            /* Safari 和 Chrome */
            -o-transition: border .5s;
            /* Opera */
        }

        .goTop>span:hover {
            border: 1px solid #6680B3;
        }


        .goTop {
            position: fixed;
            right: 30px;
            bottom: 80px;
        }

        .goTop>span>svg {
            width: 20px;
            height: 20px;
            opacity: 0.7;
        }

    }

    @media screen and (max-width: 600px) {
        .goTop {
            display: none;
        }
    }
</style>
<div class="goTop" id="js-go_top">
    <span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <g>
                <path d="M13 12v8h-2v-8H4l8-8 8 8z"></path>
            </g>
        </svg>
    </span>
</div>
<script>
    $( '#js-go_top' )
	.gotoTop( {
		offset: 500,
		speed: 300,
		animationShow: {
			'transform': 'translate(0,0)',
			'transition': 'transform .5s ease-in-out'
		},
		animationHide: {
			'transform': 'translate(100px,0)',
			'transition': 'transform .5s ease-in-out'
		}
	} );
</script>


<!-- Baidu Analytics -->
<script defer>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?4b5fe1472f22fadsfs";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>



    <!-- Gitalk -->
    <script>
        const data = '{"clientID":"f9b10e7298e1a0d041ea","clientSecret":"ed9c807b5965710c6636de27d7972668257d348c","repo":"myblogtalk","owner":"sheep1005","admin":"sheep1005"}'
        const gitalk = new Gitalk({
            ...JSON.parse( data),
            id:location.pathname,
            distractionFreeMode:false
        })
        
        if(Boolean('true')){
            gitalk.render('gitalk-container')
        }
    </script>

<script>
	console.log('\n %c Hexo-Quiet 主题 %c https://github.com/79e/hexo-theme-quiet \n', 'color: #fadfa3; background: #030307; padding:5px 0;', 'background: #fadfa3; padding:5px 0;')
</script>
	</body>
</html>

